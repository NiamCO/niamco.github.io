<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsletter | Niam Nangalia</title>
    <link rel="icon" type="image/png" href="faviconn.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.3/dist/umd/supabase.min.js"></script>
    <style>
        /* Base Styles - Matching your main site */
        :root {
            --primary-dark: #0a192f;
            --secondary-dark: #112240;
            --accent: #64ffda;
            --accent-light: #8affdf;
            --text-light: #ccd6f6;
            --text-muted: #8892b0;
            --transition: all 0.3s ease;
            --border-radius: 4px;
            --shadow: 0 10px 30px -15px rgba(2,12,27,0.7);
            --font-heading: 'Georgia', serif;
            --font-body: 'Helvetica Neue', Arial, sans-serif;
            --success: #64ff64;
            --warning: #ffb864;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--primary-dark);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        section {
            padding: 100px 0;
        }

        h1, h2, h3, h4 {
            font-family: var(--font-heading);
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 3rem;
            color: var(--accent);
        }

        h2 {
            font-size: 2.2rem;
            color: var(--text-light);
            position: relative;
            display: inline-block;
        }

        h2:after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: var(--accent);
        }

        h3 {
            font-size: 1.5rem;
            color: var(--accent);
        }

        p {
            margin-bottom: 20px;
            color: var(--text-muted);
            font-size: 1.1rem;
        }

        a {
            color: var(--accent);
            text-decoration: none;
            transition: var(--transition);
        }

        a:hover {
            color: var(--accent-light);
        }

        .btn {
            display: inline-block;
            background-color: transparent;
            color: var(--accent);
            padding: 14px 32px;
            border: 1px solid var(--accent);
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            background-color: rgba(100, 255, 218, 0.1);
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        .btn-primary {
            background-color: var(--accent);
            color: var(--primary-dark);
            font-weight: 600;
        }

        .btn-primary:hover {
            background-color: var(--accent-light);
            color: var(--primary-dark);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        .accent-text {
            color: var(--accent);
        }

        /* Header & Navigation */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            background-color: rgba(10, 25, 47, 0.9);
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }

        .logo {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent);
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 25px;
        }

        .nav-links a {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .nav-links a:hover {
            color: var(--accent);
        }

        .mobile-menu-btn {
            display: none;
            font-size: 1.5rem;
            background: none;
            border: none;
            color: var(--text-light);
            cursor: pointer;
        }

        /* Newsletter Hero */
        .newsletter-hero {
            padding-top: 120px;
            text-align: center;
            background-color: var(--secondary-dark);
        }

        .newsletter-icon {
            font-size: 4rem;
            color: var(--accent);
            margin-bottom: 30px;
        }

        .hero-description {
            max-width: 700px;
            margin: 0 auto 40px;
            font-size: 1.2rem;
        }

        /* Benefits Grid */
        .benefits-section {
            background-color: var(--primary-dark);
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-top: 50px;
        }

        @media (max-width: 992px) {
            .benefits-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .benefits-grid {
                grid-template-columns: 1fr;
            }
        }

        .benefit-card {
            background-color: var(--secondary-dark);
            border-radius: var(--border-radius);
            padding: 30px;
            text-align: center;
            transition: var(--transition);
            border-top: 3px solid var(--accent);
        }

        .benefit-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
        }

        .benefit-icon {
            font-size: 2.5rem;
            color: var(--accent);
            margin-bottom: 20px;
        }

        /* Signup Form */
        .signup-section {
            background-color: var(--secondary-dark);
        }

        .signup-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .signup-card {
            background-color: var(--primary-dark);
            border-radius: var(--border-radius);
            padding: 50px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(100, 255, 218, 0.1);
        }

        @media (max-width: 768px) {
            .signup-card {
                padding: 30px;
            }
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: var(--text-light);
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 15px 20px;
            background-color: var(--secondary-dark);
            border: 1px solid rgba(136, 146, 176, 0.3);
            border-radius: var(--border-radius);
            color: var(--text-light);
            font-family: var(--font-body);
            font-size: 1.1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 2px rgba(100, 255, 218, 0.1);
        }

        .form-note {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-top: 20px;
            text-align: center;
        }

        .privacy-note {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(136, 146, 176, 0.2);
            text-align: center;
        }

        /* Loading States */
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--text-muted);
        }

        .loading-spinner {
            border: 3px solid rgba(136, 146, 176, 0.3);
            border-top: 3px solid var(--accent);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Messages */
        .message {
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
            text-align: center;
            display: none;
        }

        .message-success {
            background-color: rgba(100, 255, 100, 0.1);
            border: 1px solid var(--success);
            color: var(--success);
        }

        .message-error {
            background-color: rgba(255, 100, 100, 0.1);
            border: 1px solid #ff6b6b;
            color: #ff6b6b;
        }

        .message-warning {
            background-color: rgba(255, 184, 100, 0.1);
            border: 1px solid var(--warning);
            color: var(--warning);
        }

        /* Confirmation Page */
        .confirmation-page {
            min-height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding-top: 100px;
        }

        .confirmation-card {
            background-color: var(--secondary-dark);
            border-radius: var(--border-radius);
            padding: 60px 50px;
            box-shadow: var(--shadow);
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        .confirmation-icon {
            font-size: 4rem;
            color: var(--accent);
            margin-bottom: 30px;
        }

        /* Footer */
        footer {
            background-color: var(--primary-dark);
            padding: 40px 0;
            text-align: center;
            border-top: 1px solid rgba(136, 146, 176, 0.1);
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .social-links {
            display: flex;
            gap: 20px;
        }

        .social-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--secondary-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .social-icon:hover {
            background-color: var(--accent);
            color: var(--primary-dark);
            transform: translateY(-5px);
        }

        .copyright {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-top: 20px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
            
            .nav-links {
                position: fixed;
                top: 70px;
                right: -100%;
                flex-direction: column;
                background-color: var(--primary-dark);
                width: 100%;
                text-align: center;
                padding: 20px 0;
                transition: var(--transition);
                box-shadow: var(--shadow);
            }
            
            .nav-links.active {
                right: 0;
            }
            
            .nav-links li {
                margin: 15px 0;
            }
            
            section {
                padding: 70px 0;
            }
            
            h1 {
                font-size: 2.3rem;
            }
            
            h2 {
                font-size: 1.8rem;
            }
            
            .newsletter-icon, .confirmation-icon {
                font-size: 3rem;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 2rem;
            }
            
            .btn {
                padding: 12px 24px;
                font-size: 0.9rem;
            }
            
            .nav-links li {
                margin-left: 15px;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--primary-dark);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-light);
        }
    </style>
</head>
<body>
    <!-- Header & Navigation -->
    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo">Niam Nangalia</a>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
                <ul class="nav-links" id="navLinks">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#about">About</a></li>
                    <li><a href="index.html#books">Books</a></li>
                    <li><a href="download.html">Download</a></li>
                    <li><a href="writing-blog.html">Blog</a></li>
                    <li><a href="newsletter.html" class="accent-text">Newsletter</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Newsletter Hero -->
    <section class="newsletter-hero">
        <div class="container">
            <div class="newsletter-icon">
                <i class="fas fa-newspaper"></i>
            </div>
            <h1>Writer's Dispatch</h1>
            <p class="hero-description">
                Join my newsletter for exclusive insights into dystopian fiction, writing techniques, 
                and updates on my work. Be the first to know about new projects, read unpublished excerpts, 
                and join discussions about speculative fiction.
            </p>
            <a href="#signup" class="btn btn-primary">
                <i class="fas fa-envelope"></i> Subscribe Now
            </a>
        </div>
    </section>

    <!-- Benefits Section -->
    <section class="benefits-section">
        <div class="container">
            <h2>What You'll Receive</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <h3>Exclusive Excerpts</h3>
                    <p>Read unpublished scenes and early drafts from "Unlisted" and future projects.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-pen-nib"></i>
                    </div>
                    <h3>Writing Insights</h3>
                    <p>Learn about my writing process, world-building techniques, and dystopian fiction craft.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <h3>Monthly Updates</h3>
                    <p>Get curated updates on my writing journey, reading recommendations, and industry insights.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3>Q&A Sessions</h3>
                    <p>Submit questions about writing, dystopian fiction, or my work for monthly Q&A emails.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-gift"></i>
                    </div>
                    <h3>Subscriber Perks</h3>
                    <p>Access to early announcements, special discounts, and exclusive content.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Community Access</h3>
                    <p>Join discussions with other readers and writers interested in speculative fiction.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Signup Form -->
    <section id="signup" class="signup-section">
        <div class="container">
            <div class="signup-container">
                <h2 style="text-align: center;">Subscribe to the Newsletter</h2>
                <p style="text-align: center; margin-bottom: 40px;">
                    Enter your email below to join. You'll receive a confirmation email to activate your subscription.
                </p>
                
                <div class="signup-card">
                    <!-- Success Message -->
                    <div id="successMessage" class="message message-success">
                        <i class="fas fa-check-circle"></i> 
                        <span id="successText">Success! Please check your email to confirm your subscription.</span>
                    </div>
                    
                    <!-- Error Message -->
                    <div id="errorMessage" class="message message-error">
                        <i class="fas fa-exclamation-circle"></i> 
                        <span id="errorText">An error occurred. Please try again.</span>
                    </div>
                    
                    <!-- Already Subscribed -->
                    <div id="alreadyMessage" class="message message-warning">
                        <i class="fas fa-info-circle"></i> 
                        <span id="alreadyText">This email is already subscribed.</span>
                    </div>
                    
                    <form id="newsletterForm">
                        <div class="form-group">
                            <label for="subscriberName">Name (Optional)</label>
                            <input type="text" id="subscriberName" class="form-control" placeholder="Your name">
                        </div>
                        
                        <div class="form-group">
                            <label for="subscriberEmail">Email Address *</label>
                            <input type="email" id="subscriberEmail" class="form-control" placeholder="your.email@example.com" required>
                        </div>
                        
                        <button type="submit" id="subscribeBtn" class="btn btn-primary" style="width: 100%;">
                            <i class="fas fa-paper-plane"></i> Subscribe to Newsletter
                        </button>
                        
                        <div class="form-note">
                            <i class="fas fa-shield-alt"></i> We respect your privacy. Unsubscribe at any time.
                        </div>
                        
                        <div class="privacy-note">
                            By subscribing, you agree to receive emails about writing updates, dystopian fiction insights, 
                            and occasional promotional content. Your email will not be shared with third parties.
                        </div>
                    </form>
                    
                    <!-- Loading State -->
                    <div id="loadingState" class="loading" style="display: none;">
                        <div class="loading-spinner"></div>
                        <p>Processing your subscription...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="logo">Niam Nangalia</div>
                <p>Exploring systems, control, and resistance through speculative fiction.</p>
                <div class="social-links">
                    <a href="#" class="social-icon">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="social-icon">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="social-icon">
                        <i class="fab fa-goodreads"></i>
                    </a>
                    <a href="#" class="social-icon">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
                <p class="copyright">&copy; 2026 Niam Nangalia. All rights reserved. (Kinda not though)</p>
            </div>
        </div>
    </footer>

    <script>
        // Supabase Configuration
        const SUPABASE_URL = 'https://rnxsmimwcezxwkbuovvp.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJueHNtaW13Y2V6eHdrYnVvdnZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyMzk3MjgsImV4cCI6MjA4NTgxNTcyOH0.ntX3R4XEpOqXPHU3pH0bUTO-EFbcPykzG1jifkOiVl0';
        
        // EmailOctopus Configuration
        const EMAILOCTOPUS_API_KEY = 'eo_2221ef86b3ed497f999cdb3e6d64897b7687845202dedc9a9dc43595fd25b5ec';
        const EMAILOCTOPUS_LIST_ID = '402119f0-024f-11f1-846a-4770f3ede969';
        
        // Initialize Supabase
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        
        // DOM Elements
        const newsletterForm = document.getElementById('newsletterForm');
        const subscribeBtn = document.getElementById('subscribeBtn');
        const subscriberName = document.getElementById('subscriberName');
        const subscriberEmail = document.getElementById('subscriberEmail');
        const successMessage = document.getElementById('successMessage');
        const errorMessage = document.getElementById('errorMessage');
        const alreadyMessage = document.getElementById('alreadyMessage');
        const successText = document.getElementById('successText');
        const errorText = document.getElementById('errorText');
        const alreadyText = document.getElementById('alreadyText');
        const loadingState = document.getElementById('loadingState');
        
        // Generate a confirmation token
        function generateToken() {
            return Math.random().toString(36).substring(2) + Date.now().toString(36);
        }
        
        // Subscribe to newsletter
        async function subscribeToNewsletter() {
            const name = subscriberName.value.trim();
            const email = subscriberEmail.value.trim();
            
            // Validate email
            if (!email || !validateEmail(email)) {
                showError('Please enter a valid email address.');
                return;
            }
            
            // Show loading state
            showLoading();
            
            try {
                // Check if already subscribed in Supabase
                const { data: existingSubscriber } = await supabase
                    .from('newsletter_subscribers')
                    .select('*')
                    .eq('email', email)
                    .single();
                
                if (existingSubscriber) {
                    if (existingSubscriber.confirmed) {
                        showAlreadySubscribed();
                    } else {
                        // Resend confirmation
                        await resendConfirmation(email);
                        showSuccess('Please check your email to confirm your subscription.');
                    }
                    return;
                }
                
                // Generate confirmation token
                const confirmationToken = generateToken();
                
                // 1. Store in Supabase first
                const { data: supabaseData, error: supabaseError } = await supabase
                    .from('newsletter_subscribers')
                    .insert([{
                        email: email,
                        name: name || null,
                        confirmation_token: confirmationToken,
                        confirmed: false
                    }])
                    .select()
                    .single();
                
                if (supabaseError) {
                    console.error('Supabase error:', supabaseError);
                    throw new Error('Database error. Please try again.');
                }
                
                // 2. Send to EmailOctopus
                const emailoctopusResponse = await sendToEmailOctopus(email, name);
                
                if (!emailoctopusResponse || !emailoctopusResponse.id) {
                    throw new Error('Email service error. Please try again.');
                }
                
                // 3. Update Supabase with EmailOctopus ID
                await supabase
                    .from('newsletter_subscribers')
                    .update({ 
                        emailoctopus_id: emailoctopusResponse.id 
                    })
                    .eq('id', supabaseData.id);
                
                // Show success
                showSuccess('Success! Please check your email to confirm your subscription.');
                
                // Reset form
                newsletterForm.reset();
                
            } catch (error) {
                console.error('Subscription error:', error);
                showError(error.message || 'An error occurred. Please try again.');
            } finally {
                hideLoading();
            }
        }
        
        // Send to EmailOctopus API
        async function sendToEmailOctopus(email, name) {
            const payload = {
                api_key: EMAILOCTOPUS_API_KEY,
                email_address: email,
                fields: {
                    Name: name || ''
                },
                tags: ['Website Signup'],
                status: 'SUBSCRIBED' // EmailOctopus will send confirmation email
            };
            
            const response = await fetch(
                `https://emailoctopus.com/api/1.6/lists/${EMAILOCTOPUS_LIST_ID}/contacts`,
                {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                }
            );
            
            const data = await response.json();
            
            if (!response.ok) {
                throw new Error(data.error?.message || 'Failed to subscribe to email service');
            }
            
            return data;
        }
        
        // Resend confirmation
        async function resendConfirmation(email) {
            // EmailOctopus automatically handles resending confirmation
            // We just need to update our database
            await supabase
                .from('newsletter_subscribers')
                .update({ 
                    subscribed_at: new Date().toISOString()
                })
                .eq('email', email);
        }
        
        // Validate email format
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        // Show/hide messages
        function showSuccess(message) {
            successText.textContent = message;
            successMessage.style.display = 'block';
            errorMessage.style.display = 'none';
            alreadyMessage.style.display = 'none';
            
            // Scroll to message
            successMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function showError(message) {
            errorText.textContent = message;
            errorMessage.style.display = 'block';
            successMessage.style.display = 'none';
            alreadyMessage.style.display = 'none';
            
            errorMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function showAlreadySubscribed() {
            alreadyText.textContent = 'This email is already subscribed to the newsletter.';
            alreadyMessage.style.display = 'block';
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';
            
            alreadyMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function showLoading() {
            loadingState.style.display = 'block';
            subscribeBtn.disabled = true;
            newsletterForm.style.opacity = '0.5';
        }
        
        function hideLoading() {
            loadingState.style.display = 'none';
            subscribeBtn.disabled = false;
            newsletterForm.style.opacity = '1';
        }
        
        // Event Listeners
        newsletterForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            await subscribeToNewsletter();
        });
        
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');
        
        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                mobileMenuBtn.innerHTML = navLinks.classList.contains('active') 
                    ? '<i class="fas fa-times"></i>' 
                    : '<i class="fas fa-bars"></i>';
            });
            
            // Close mobile menu when clicking on a link
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                    mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                });
            });
        }
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if(targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if(targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Test EmailOctopus connection on load
        window.addEventListener('load', () => {
            console.log('Newsletter page loaded with EmailOctopus integration');
        });
    </script>
</body>
</html>
